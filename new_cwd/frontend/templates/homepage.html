<!DOCTYPE html>
<html lang="en">
<head>
    <!-- ðŸ” POST-LOGIN PROTECTION -->
    <script>
        if (localStorage.getItem("isLoggedIn") !== "true") {
            window.location.href = "login.html";
        }
    </script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home | CineMatch</title>

    <!-- âœ… FIXED: stylesheet link belongs in <head> -->
    <link rel="stylesheet" href="../static/css/homepage.css">
</head>

<body>
    <div class="navbar">
        <img class="website_logo" src="../static/media/images/website_logo.png" alt="website logo"
        onclick="location.href='homepage.html'" style="cursor:pointer"> 
        
        <div class="f2">
            <div class="f2-left">
                <img class="bms_logo" src="../static/media/images/bmsce_logo.jpeg" alt="bmsce logo">
                <h1 class="bmsce">BMSCE</h1>
            </div>

            <div class="buttons">
                <form action="../templates/About us.html">
                    <button class="navigation" type="submit">ABOUT</button>
                </form>

                <form action="../templates/genre.html">
                    <button class="navigation" type="submit">GENRES</button>
                </form>

                <form action="../templates/genre.html">
                    <button class="navigation" type="submit">ACTORS</button>
                </form>

                <!-- ðŸšª LOGOUT BUTTON -->
                <button id="logoutBtn" class="rate">LOGOUT</button>

                <!-- ðŸ‘‹ USER GREETING (AFTER LOGOUT, WHITE) -->
                <h3 id="hellousername" class="user-greeting" style="color: white;"></h3>
            </div>
        </div>
    </div>

    <div class="main-content-wrapper">
        
        <div id="welcome">
            <h1 id="welh1">WELCOME</h1>
            <p>
                Finding the perfect movie shouldnâ€™t be hard. At CineMatch, we make it effortless by
                recommending the best movies based on your mood and preferences. Whether youâ€™re in
                the mood for thrilling action, laugh-out-loud comedy, heartfelt drama, or
                mind-bending suspense, weâ€™ve got you covered.
            </p>
        </div>

        <div class="movie-grid">
            <div class="movie-column" id="pictures2">
                <h2>craving some hollywood?</h2>
                <img src="../static/media/images/the_aviator.jpeg" alt="the aviator">
                <img src="../static/media/images/inception.jpeg" alt="inception">
                <img src="../static/media/images/top_gun.jpeg" alt="top gun maverick">
            </div>

            <div class="movie-column" id="pictures1">
                <h2>or maybe some bollywood?</h2>
                <img src="../static/media/images/bajirao.jpeg" alt="bajirao mastani">
                <img src="../static/media/images/pk.jpeg" alt="pk">
            </div>

            <div class="movie-column" id="pictures3">
                <h2>or some south indian dhamaka?</h2>
                <img src="../static/media/images/bahubali.jpeg" alt="bahubali">
                <img src="../static/media/images/kgf.jpeg" alt="kgf">
                <img src="../static/media/images/vikram.jpeg" alt="vikram">
            </div>
        </div>
    </div>

    <!-- ðŸ”‘ USERNAME DISPLAY + LOGOUT LOGIC -->
    <script>
        // Show username
        const loggedInUsername = localStorage.getItem("username");
        const helloEl = document.getElementById("hellousername");

        if (loggedInUsername && helloEl) {
            helloEl.innerText = `Hello, ${loggedInUsername}!`;
        }

        // Logout logic
        const logoutBtn = document.getElementById("logoutBtn");
        if (logoutBtn) {
            logoutBtn.addEventListener("click", () => {
                const confirmLogout = confirm("Are you sure you want to logout?");
                if (confirmLogout) {
                    localStorage.clear();
                    window.location.href = "login.html";
                }
            });
        }
    </script>

</body>
</html>
